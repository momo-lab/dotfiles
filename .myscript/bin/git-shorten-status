#!/bin/bash

function show_git_status() {
  if [ "$1" != "" ]; then
    cd $1
  fi
  status=`
    git -c color.ui=always status -s;
    git -c color.ui=always stash list;
    git -c color.ui=always log --branches --not --remotes --oneline --graph --decorate
  `
  if [ "$status" != "" ]; then
    if [ "$1" != "" ]; then
      echo ">>> $1 <<<"
    fi
    echo "$status"
  fi
}

if [ $# == 0 ]; then
  show_git_status
  exit
fi

while [ $# -gt 0 ]; do
  show_git_status $1
  shift
done

